import{_ as w,u as L,a as h,r as f,c as x,b as o,o as g,d as b,w as a,e as r,f as _,g as k,t as E,h as S,i as B,j as F}from"./index-1da159f2.js";const q={name:"LoginForm",setup(){const l=L(),e=h(),d=f(""),t=f(""),i=f(""),m=f(""),c=x(()=>l.getters["auth/isLoading"]),n=x(()=>l.getters["auth/authError"]),u=()=>{let s=!0;return i.value="",m.value="",d.value||(i.value="Email is required",s=!1),t.value||(m.value="Password is required",s=!1),s};return{email:d,password:t,emailError:i,passwordError:m,loading:c,error:n,handleSubmit:async()=>{if(u())try{await l.dispatch("auth/login",{email:d.value,password:t.value}),e.push("/dashboard")}catch{}}}}};function N(l,e,d,t,i,m){const c=o("v-card-title"),n=o("v-text-field"),u=o("v-alert"),p=o("v-btn"),s=o("v-form"),V=o("v-card-text"),y=o("v-card");return g(),b(y,{class:"mx-auto mt-6","max-width":"400"},{default:a(()=>[r(c,{class:"text-center"},{default:a(()=>e[2]||(e[2]=[_("Login")])),_:1}),r(V,null,{default:a(()=>[r(s,{onSubmit:k(t.handleSubmit,["prevent"])},{default:a(()=>[r(n,{modelValue:t.email,"onUpdate:modelValue":e[0]||(e[0]=v=>t.email=v),label:"Email",type:"email",required:"","error-messages":t.emailError},null,8,["modelValue","error-messages"]),r(n,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=v=>t.password=v),label:"Password",type:"password",required:"","error-messages":t.passwordError},null,8,["modelValue","error-messages"]),t.error?(g(),b(u,{key:0,type:"error",class:"mb-4"},{default:a(()=>[_(E(t.error),1)]),_:1})):S("",!0),r(p,{type:"submit",color:"primary",block:"",loading:t.loading},{default:a(()=>e[3]||(e[3]=[_(" Login ")])),_:1},8,["loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})}const C=w(q,[["render",N]]),D={name:"Login",components:{LoginForm:C}};function P(l,e,d,t,i,m){const c=o("LoginForm"),n=o("router-link"),u=o("v-card-text"),p=o("v-card");return g(),B("div",null,[e[2]||(e[2]=F("h1",{class:"text-h4 text-center mb-6"},"Welcome Back",-1)),r(c),r(p,{class:"mx-auto mt-6","max-width":"400",flat:""},{default:a(()=>[r(u,{class:"text-center"},{default:a(()=>[e[1]||(e[1]=_(" Don't have an account? ")),r(n,{to:"/register"},{default:a(()=>e[0]||(e[0]=[_("Register here")])),_:1})]),_:1})]),_:1})])}const U=w(D,[["render",P]]);export{U as default};
