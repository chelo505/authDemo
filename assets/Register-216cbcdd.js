import{_ as V,u as y,a as E,r as d,c as b,i as P,j as h,e as o,w as t,b as l,o as x,g as k,d as S,f as p,t as C,h as q}from"./index-cf333a53.js";const B={name:"Register",setup(){const u=y(),r=E(),i=d(""),e=d(""),c=d(""),f=d(""),s=d(""),n=d(""),_=b(()=>u.getters["auth/isLoading"]),w=b(()=>u.getters["auth/authError"]),v=()=>{let a=!0;return f.value="",s.value="",n.value="",(!i.value||!i.value.includes("@"))&&(f.value="Enter valid email",a=!1),e.value||(s.value="Password is required",a=!1),c.value?e.value!==c.value&&(n.value="Passwords do not match",a=!1):(n.value="Please confirm your password",a=!1),a};return{email:i,password:e,confirmPassword:c,emailError:f,passwordError:s,confirmPasswordError:n,loading:_,error:w,handleSubmit:async()=>{if(v())try{await u.dispatch("auth/register",{email:i.value,password:e.value}),r.push("/dashboard")}catch{}}}}};function N(u,r,i,e,c,f){const s=l("v-text-field"),n=l("v-alert"),_=l("v-btn"),w=l("v-form"),v=l("v-card-text"),g=l("v-card"),a=l("router-link");return x(),P("div",null,[r[6]||(r[6]=h("h1",{class:"text-h4 text-center mb-6"},"Create Account",-1)),o(g,{class:"mx-auto mt-6","max-width":"400"},{default:t(()=>[o(v,null,{default:t(()=>[o(w,{onSubmit:k(e.handleSubmit,["prevent"])},{default:t(()=>[o(s,{modelValue:e.email,"onUpdate:modelValue":r[0]||(r[0]=m=>e.email=m),label:"Email",type:"email",required:"","error-messages":e.emailError},null,8,["modelValue","error-messages"]),o(s,{modelValue:e.password,"onUpdate:modelValue":r[1]||(r[1]=m=>e.password=m),label:"Password",type:"password",required:"","error-messages":e.passwordError},null,8,["modelValue","error-messages"]),o(s,{modelValue:e.confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=m=>e.confirmPassword=m),label:"Confirm Password",type:"password",required:"","error-messages":e.confirmPasswordError},null,8,["modelValue","error-messages"]),e.error?(x(),S(n,{key:0,type:"error",class:"mb-4"},{default:t(()=>[p(C(e.error),1)]),_:1})):q("",!0),o(_,{type:"submit",color:"primary",block:"",loading:e.loading},{default:t(()=>r[3]||(r[3]=[p(" Register ")])),_:1},8,["loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1}),o(g,{class:"mx-auto mt-6","max-width":"400",flat:""},{default:t(()=>[o(v,{class:"text-center"},{default:t(()=>[r[5]||(r[5]=p(" Already have an account? ")),o(a,{to:"/login"},{default:t(()=>r[4]||(r[4]=[p("Login here")])),_:1})]),_:1})]),_:1})])}const U=V(B,[["render",N]]);export{U as default};
